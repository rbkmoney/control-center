<div class="mat-headline">Party claims</div>

<div fxLayout="column" fxLayoutGap="20px">
    <mat-card>
        <mat-card-content>
            <cc-search-form (valueChanges)="search($event)"></cc-search-form>
        </mat-card-content>
        <mat-card-footer *ngIf="(isLoading$ | async)">
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        </mat-card-footer>
    </mat-card>

    <ng-container *ngIf="(claims$ | async) as claims">
    <ng-container *ngIf="claims.length === 0">
        <cc-empty-search-result></cc-empty-search-result>
    </ng-container>
    <ng-container *ngIf="claims.length > 0">
        <mat-card>
            <mat-card-content fxLayout="column" fxLayoutGap="20px">
                <cc-claims-table [claims]="claims"></cc-claims-table>
                <button
                    fxFlex="100"
                    mat-button
                    *ngIf="(hasMore$ | async)"
                    (click)="fetchMore()"
                    [disabled]="isLoading$ | async"
                >
                    {{ (isLoading$ | async) ? 'LOADING...' : 'SHOW MORE' }}
                </button>
            </mat-card-content>
        </mat-card>
    </ng-container>
</ng-container>
</div>

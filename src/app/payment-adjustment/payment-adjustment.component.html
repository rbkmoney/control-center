<div class="payment-adjustment-container" fxLayout="column" fxLayoutGap="24px">
    <div class="cc-headline">Payment adjustments</div>
    <mat-card>
        <mat-card-content>
            <cc-payment-adjustment-search-form
                (valueChanges)="formValueChanges($event)"
                (statusChanges)="formStatusChanges($event)"
            >
            </cc-payment-adjustment-search-form>
        </mat-card-content>
        <mat-card-actions>
            <button
                mat-button
                color="primary"
                [disabled]="!formValid || isLoading"
                (click)="search()"
            >
                SEARCH PAYMENTS
            </button>
        </mat-card-actions>
        <mat-card-footer *ngIf="isLoading">
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        </mat-card-footer>
    </mat-card>
    <mat-card>
        <mat-card-content>
            <div fxLayout fxLayoutGap="16px" fxLayoutAlign="start center">
                <div>Found: {{ payments.length }}</div>
                <div>Selected: {{ selectedPayments.length }}</div>
                <button
                    mat-button
                    color="primary"
                    (click)="create()"
                    [disabled]="!selectedPayments.length"
                >
                    CREATE
                </button>
            </div>
            <cc-payment-adjustment-table
                [payments]="payments"
                (changeSelected)="changeSelected($event)"
            >
            </cc-payment-adjustment-table>
        </mat-card-content>
    </mat-card>
</div>

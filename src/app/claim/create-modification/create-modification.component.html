<div class="mat-dialog-title">{{action.name | ccContainerName:getContainerType(action.type)}}</div>
<mat-dialog-content>
    <mat-vertical-stepper *ngIf="action.type !== 'domainAction'">
        <mat-step>
            <ng-template matStepLabel>Prepare party modification target</ng-template>
            <cc-party-modification-target
                    [partyID]="partyId"
                    [partyTarget]="getPartyTarget(action.type)"
                    (valueChanges)="unitIDChange($event)">
            </cc-party-modification-target>
        </mat-step>
        <mat-step>
            <form>
                <ng-template matStepLabel>Fill in party modification params</ng-template>
                <cc-party-modification-creation
                        [unitID]="unitID"
                        unitIDDisabled="true"
                        [action]="action"
                        (valueChanges)="valueChanges($event)"
                        (statusChanges)="statusChanges($event)">
                </cc-party-modification-creation>
            </form>
        </mat-step>
    </mat-vertical-stepper>
    <cc-terminal-object
            *ngIf="action.type === 'domainAction'"
            [domainModificationInfo]="(domainModificationInfo$ | async)"
            (valueChanges)="valueChanges($event)"
            (statusChanges)="statusChanges($event)">
    </cc-terminal-object>
</mat-dialog-content>
<mat-dialog-actions fxLayout="column" fxLayoutGap="10px">
    <div>
        <button mat-button
                [disabled]="isLoading || !(valid | async)"
                color="primary"
                (click)="create()">CREATE
        </button>
        <button [disabled]="isLoading" mat-button [mat-dialog-close]="false">CANCEL</button>
    </div>
    <mat-progress-bar *ngIf="isLoading" mode="indeterminate"></mat-progress-bar>
</mat-dialog-actions>
